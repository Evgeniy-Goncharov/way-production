const header=document.querySelector(".page-header"),menuButton=header.querySelector(".menu-button"),nav=header.querySelector(".main-nav"),buyButtons=document.querySelectorAll(".js-buy"),buyPopup=document.querySelector(".buy"),successPopup=document.querySelector(".success"),locationLinks=document.querySelectorAll(".locations__link"),forms=document.querySelectorAll(".js-form");let isMenuOpen=!1;header.classList.remove("page-header--no-js"),menuButton.classList.remove("menu-button--no-js"),nav.classList.remove("main-nav--no-js");const openMenu=()=>{header.classList.add("page-header--nav-open"),menuButton.classList.add("menu-button--nav-open"),nav.classList.add("main-nav--nav-open"),isMenuOpen=!0},closeMenu=()=>{header.classList.remove("page-header--nav-open"),menuButton.classList.remove("menu-button--nav-open"),nav.classList.remove("main-nav--nav-open"),isMenuOpen=!1};menuButton.addEventListener("click",(function(){isMenuOpen?(header.classList.remove("page-header--nav-open"),menuButton.classList.remove("menu-button--nav-open"),nav.classList.remove("main-nav--nav-open"),isMenuOpen=!1):(header.classList.add("page-header--nav-open"),menuButton.classList.add("menu-button--nav-open"),nav.classList.add("main-nav--nav-open"),isMenuOpen=!0)}));const thumbs=new Swiper(".descriptions__menu",{slidesPerView:"auto",freeMode:!0,breakpoints:{1212:{allowTouchMove:!1}}}),gallery=new Swiper(".descriptions__wrapper",{spaceBetween:30,allowTouchMove:!1,thumbs:{swiper:thumbs,slideThumbActiveClass:"descriptions__tab--active"}});for(let e of locationLinks)e.addEventListener("click",(({target:e})=>{gallery.slideTo(e.getAttribute("data-slide"))}));let closeButton;const handleBuyClick=e=>{e.stopPropagation(),e.preventDefault(),openPopup(buyPopup)},handleEscPress=e=>{e.preventDefault(),27==e.keyCode&&closePopup()},handleSubmitClick=e=>{e.preventDefault(),successPopup.classList.add("buy__success--open")},closePopup=()=>{buyPopup.classList.remove("open"),successPopup.classList.remove("open"),document.removeEventListener("click",closePopup),document.removeEventListener("keydown",handleEscPress),closeButton.removeEventListener("click",closePopup)},openPopup=e=>{closeButton=e.querySelector(".js-button-close"),e.classList.add("open"),closeButton.addEventListener("click",closePopup),document.addEventListener("click",closePopup),document.addEventListener("keydown",handleEscPress),e.addEventListener("click",(e=>e.stopPropagation()))};for(let e of buyButtons)e.addEventListener("click",handleBuyClick);for(let e of forms)e.addEventListener("submit",(e=>{e.preventDefault(),openPopup(successPopup)}));